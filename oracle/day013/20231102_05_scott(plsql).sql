SELECT USER
FROM DUAL;
--==> SCOTT

SET SERVEROUTPUT ON;

--○ TBL_INSA 테이블의 여러 명의 데이터 여러 개를 변수에 저장하여 출력
-- (반복문 활용)
DECLARE
    V_INSA   TBL_INSA%ROWTYPE;
BEGIN
    SELECT NAME, TEL, BUSEO 
            INTO V_INSA.NAME, V_INSA.TEL, V_INSA.BUSEO
    FROM TBL_INSA;
    
    DBMS_OUTPUT.PUT_LINE(V_INSA.NAME || ' - ' || V_INSA.TEL || ' - ' || V_INSA.BUSEO);
END;
--==>> 에러발생

DECLARE
    V_INSA   TBL_INSA%ROWTYPE;
BEGIN
    -- 조회 -> 단일 레코드 얻어오기 -> 변수에 담아내기
    SELECT NAME, TEL, BUSEO 
            INTO V_INSA.NAME, V_INSA.TEL, V_INSA.BUSEO
    FROM TBL_INSA
    WHERE NUM=1001;
    
    -- 출력
    DBMS_OUTPUT.PUT_LINE(V_INSA.NAME || ' - ' || V_INSA.TEL || ' - ' || V_INSA.BUSEO);
END;
--==>>
/*
홍길동 - 011-2356-4528 - 기획부


PL/SQL 프로시저가 성공적으로 완료되었습니다.
*/

DECLARE
    V_INSA   TBL_INSA%ROWTYPE;
BEGIN
    -- 조회 -> 단일 레코드 얻어오기 -> 변수에 담아내기
    SELECT NAME, TEL, BUSEO 
            INTO V_INSA.NAME, V_INSA.TEL, V_INSA.BUSEO
    FROM TBL_INSA
    WHERE NUM=1002;
    
    -- 출력
    DBMS_OUTPUT.PUT_LINE(V_INSA.NAME || ' - ' || V_INSA.TEL || ' - ' || V_INSA.BUSEO);
END;
--==>>
/*
이순신 - 010-4758-6532 - 총무부


PL/SQL 프로시저가 성공적으로 완료되었습니다.
*/

DECLARE
    V_INSA   TBL_INSA%ROWTYPE;
BEGIN
    -- 반복문 구성
    LOOP
        -- 조회 -> 단일 레코드 얻어오기 -> 변수에 담아내기
        SELECT NAME, TEL, BUSEO 
                INTO V_INSA.NAME, V_INSA.TEL, V_INSA.BUSEO
        FROM TBL_INSA
        WHERE NUM=1002; -- *현재는 상수
        
        -- 출력
        DBMS_OUTPUT.PUT_LINE(V_INSA.NAME || ' - ' || V_INSA.TEL || ' - ' || V_INSA.BUSEO);
    END LOOP;
END;

DECLARE
    V_INSA   TBL_INSA%ROWTYPE;
--    V_NUM    NUMBER;  -- *이렇게 해도 상관없지만, 논리적으로 TBL_INSA 테이블의 NUM 타입이 맞음*
    V_NUM    TBL_INSA.NUM%TYPE := 1001;
BEGIN
    -- 반복문 구성
    LOOP
        -- 조회 -> 단일 레코드 얻어오기 -> 변수에 담아내기
        SELECT NAME, TEL, BUSEO 
                INTO V_INSA.NAME, V_INSA.TEL, V_INSA.BUSEO
        FROM TBL_INSA
        WHERE NUM=V_NUM;
        
        -- 출력
        DBMS_OUTPUT.PUT_LINE(V_INSA.NAME || ' - ' || V_INSA.TEL || ' - ' || V_INSA.BUSEO);
        
        -- 사원번호 1씩 증가시키는 구문
        V_NUM := V_NUM + 1;
        
        -- 반복문을 탈출하게 되는 조건(반복 종료)
        EXIT WHEN V_NUM > 1060;
        
    END LOOP;
END;
--==>>
/*
홍길동 - 011-2356-4528 - 기획부
이순신 - 010-4758-6532 - 총무부
이순애 - 010-4231-1236 - 개발부
김정훈 - 019-5236-4221 - 영업부
한석봉 - 018-5211-3542 - 총무부
이기자 - 010-3214-5357 - 개발부
장인철 - 011-2345-2525 - 개발부
김영년 - 016-2222-4444 - 홍보부
나윤균 - 019-1111-2222 - 인사부
김종서 - 011-3214-5555 - 영업부
유관순 - 010-8888-4422 - 영업부
정한국 - 018-2222-4242 - 홍보부
조미숙 - 019-6666-4444 - 홍보부
황진이 - 010-3214-5467 - 개발부
이현숙 - 016-2548-3365 - 총무부
이상헌 - 010-4526-1234 - 개발부
엄용수 - 010-3254-2542 - 개발부
이성길 - 018-1333-3333 - 개발부
박문수 - 017-4747-4848 - 인사부
유영희 - 011-9595-8585 - 자재부
홍길남 - 011-9999-7575 - 개발부
이영숙 - 017-5214-5282 - 기획부
김인수 -  - 영업부
김말자 - 011-5248-7789 - 기획부
우재옥 - 010-4563-2587 - 영업부
김숙남 - 010-2112-5225 - 영업부
김영길 - 019-8523-1478 - 총무부
이남신 - 016-1818-4848 - 인사부
김말숙 - 016-3535-3636 - 총무부
정정해 - 019-6564-6752 - 총무부
지재환 - 019-5552-7511 - 기획부
심심해 - 016-8888-7474 - 자재부
김미나 - 011-2444-4444 - 영업부
이정석 - 011-3697-7412 - 기획부
정영희 -  - 개발부
이재영 - 011-9999-9999 - 자재부
최석규 - 011-7777-7777 - 홍보부
손인수 - 010-6542-7412 - 영업부
고순정 - 010-2587-7895 - 영업부
박세열 - 016-4444-7777 - 인사부
문길수 - 016-4444-5555 - 자재부
채정희 - 011-5125-5511 - 개발부
양미옥 - 016-8548-6547 - 영업부
지수환 - 011-5555-7548 - 영업부
홍원신 - 011-7777-7777 - 영업부
허경운 - 017-3333-3333 - 총무부
산마루 - 018-0505-0505 - 영업부
이기상 -  - 개발부
이미성 - 010-6654-8854 - 개발부
이미인 - 011-8585-5252 - 홍보부
권영미 - 011-5555-7548 - 영업부
권옥경 - 010-3644-5577 - 기획부
김싱식 - 011-7585-7474 - 자재부
정상호 - 016-1919-4242 - 홍보부
정한나 - 016-2424-4242 - 영업부
전용재 - 010-7549-8654 - 영업부
이미경 - 016-6542-7546 - 자재부
김신제 - 010-2415-5444 - 기획부
임수봉 - 011-4151-4154 - 개발부
김신애 - 011-4151-4444 - 개발부


PL/SQL 프로시저가 성공적으로 완료되었습니다.
*/

-- *이 방식의 문제점: 1)시작번호 알아야함, 2)끝번호 알아야함, 3)시리얼번호(연속된 번호) 여야 가능*  

--------------------------------------------------------------------------------PLSQL의 기본적인 문법, 틀 안내 완료
-- *PLSQL로 트리거, 함수 등...을 만들어야함*  

--■■■ FUNCTION(함수) ■■■--
-- *날짜, 숫자등 함수 -> 오라클 내장 함수*  
-- *우리가 직접 지정해서 함수를 불러다 쓸 수 있음*   
